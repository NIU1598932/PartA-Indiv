#!/bin/bash
 
echo "--------------------------------------------------"
echo "               HistÃ²ric dâ€™Oscars"
echo "-------------------------------------------------- "
echo "1.1 Mostrar histÃ²ric dâ€™Oscars a millor actor (alfabÃ¨tic)."
echo "1.2 Mostrar histÃ²ric dâ€™Oscars a millor actriu (edat)"
echo "1.3 Mostrar histÃ²ric dâ€™Oscars (actors/actrius)."
 
 
read a
 
case $a in
1.1)

;;


1.2)

echo " ð„ððšð­: ð€ðœð­ð«ð¢ð®: ð€ð§ð²: ððžð¥Â·ð¥ð¢Ìðœð®ð¥ðš" > cap.txt

cat oscar_age_male.csv | tail +2  > llista


sort -t, -n -k3 llista > ordenatsperedat.txt



cut -d, -f2 ordenatsperedat.txt > any_oscar
cut -d, -f3 ordenatsperedat.txt > edat_oscar
cut -d'"' -f4 ordenatsperedat.txt > peli_oscar
cut -d'"' -f2 ordenatsperedat.txt > actriu_oscar



paste -d: edat_oscar actriu_oscar any_oscar  peli_oscar > final.txt


cat final.txt >> cap.txt

column -s : -t cap.txt



rm final.txt
rm any_oscar
rm edat_oscar
rm peli_oscar
rm actriu_oscar
rm ordenatsperedat.txt
rm llista
rm cap.txt

1.3) 

i=2
max=`wc -l < oscar_age_male.csv`

while [ $i -lt $max ]     
do
any=`cat oscar_age_male.csv | tail +1 |sort -k2 -t, | head -$i | tail -1| cut -d, -f2`
actor=`cat oscar_age_male.csv | tail +1 |sort -k2 -t, | head -$i | tail -1| cut -d'"' -f2`
edat=`cat oscar_age_male.csv | tail +1 |sort -k2 -t, | head -$i | tail -1| cut -d, -f3`
pelicula=`cat oscar_age_male.csv | tail +1 |sort -k2 -t, | head -$i | tail -1| cut -d'"' -f4`

actriu=`cat oscar_age_female.csv | tail +1 |sort -k2 -t, | head -$i | tail -1| cut -d'"' -f2`
edat2=`cat oscar_age_female.csv | tail +1 |sort -k2 -t, | head -$i | tail -1| cut -d, -f3`
pelicula2=`cat oscar_age_female.csv | tail +1 |sort -k2 -t, | head -$i | tail -1| cut -d'"' -f4`

echo any: $any
echo actor: $actor
echo edat: $edat
echo pelÂ·licula: $pelicula
echo actriu: $actriu
echo edat: $edat2
echo pelÂ·licula: $pelicula2
echo -------------------------------------------------------------
let i=i+1;
done
 ;;

*) 
echo "error";;
esac
